(this["webpackJsonpkmon-ui"]=this["webpackJsonpkmon-ui"]||[]).push([[0],{33:function(e,s,t){},34:function(e,s,t){},35:function(e,s,t){},36:function(e,s,t){},37:function(e,s,t){},38:function(e,s,t){"use strict";t.r(s);var c=t(0),n=t(1),r=t(20),a=t.n(r),i=t(8),o=Object(n.createContext)(),l=t(7),u="[auth] login",j="[auth] logout",d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=arguments.length>1?arguments[1]:void 0;switch(s.type){case u:return Object(l.a)(Object(l.a)({},s.payload),{},{auth:!0});case j:return{auth:!1};default:return e}},b=t(11),h=t(21),m=t(2),O=function(e){var s=e.history,t=Object(n.useContext)(o),r=t.session,a=t.dispatch,l=r.challenger,d=Object(n.useState)(null),O=Object(i.a)(d,2),x=O[0],p=O[1],v=l.questions[l.currentQuestion-1],N=l.answers[l.currentQuestion-1],g=function(e){var s=1*e.target.innerText;p(s);var t=Object(h.cloneDeep)(l),c=t.currentQuestion-1,n=t.correctAnswers[c]===s;t.userAnswers.push(s),t.score=n?t.score+1:t.score;var i=0;n?(document.getElementById("audioSuccess").play(),i=2):(document.getElementById("audioError").play(),i=4),window.setTimeout((function(){t.currentQuestion!==t.questions.length&&t.currentQuestion++,p(null),a({type:u,payload:{name:r.name,numQuestions:r.numQuestions,challenger:t}})}),1e3*i)};return l.questions.length===l.userAnswers.length?Object(c.jsx)(m.a,{to:"/results"}):Object(c.jsxs)("div",{className:"kui-challenger",children:[Object(c.jsxs)("div",{className:"row kui-progress",children:[Object(c.jsxs)("div",{className:"d-none d-sm-block col-md-6 kui-question-counter",children:[r.name,", only ",l.questions.length-(l.currentQuestion-1)," questions to go!"]}),Object(c.jsxs)("div",{className:"col-6 col-lg-5 col-md-4 kui-score",children:["Score: ",Object(c.jsx)("span",{className:"kui-score-right",children:l.score})," / ",Object(c.jsx)("span",{className:"kui-score-wrong",children:l.questions.length})]}),Object(c.jsx)("div",{className:"col-6 col-lg-1 col-md-2 kui-finish",children:Object(c.jsx)("button",{className:"nav-item nav-link btn",onClick:function(){a({type:j}),s.push("/")},children:"Finish"})})]}),Object(c.jsxs)("div",{className:"kui-qna",children:[Object(c.jsxs)("div",{className:"row kui-question",children:[Object(c.jsx)("div",{className:"col-sm-5 text-center kui-number",children:Object(c.jsx)("div",{children:v})}),Object(c.jsx)("div",{className:"col-sm-2 text-center kui-operator",children:Object(c.jsx)("div",{children:"+"})}),Object(c.jsx)("div",{className:"col-sm-5 text-center kui-number",children:Object(c.jsx)("div",{children:l.baseNumber})})]}),x?Object(c.jsx)("div",{className:"row kui-answers",children:Object(c.jsx)("div",{className:"col-12 col-sm-3 text-center kui-your-answer",children:Object(c.jsx)("div",{children:x})})}):Object(c.jsxs)("div",{className:"row kui-answers",children:[Object(c.jsx)("div",{className:"col-6 col-sm-3 text-center kui-answer",children:Object(c.jsx)("div",{onClick:g,children:N[0]})}),Object(c.jsx)("div",{className:"col-6 col-sm-3 text-center kui-answer",children:Object(c.jsx)("div",{onClick:g,children:N[1]})}),Object(c.jsx)("div",{className:"col-6 col-sm-3 text-center kui-answer",children:Object(c.jsx)("div",{onClick:g,children:N[2]})}),Object(c.jsx)("div",{className:"col-6 col-sm-3 text-center kui-answer",children:Object(c.jsx)("div",{onClick:g,children:N[3]})})]})]}),Object(c.jsx)("div",{className:"row d-block d-sm-none kui-progress-bar"}),Object(c.jsx)("div",{className:"kui-feedback d-none kui-feedback-check",children:Object(c.jsx)("div",{children:Object(c.jsx)(b.a,{})})}),Object(c.jsx)("div",{className:"kui-feedback d-none kui-feedback-cross",children:Object(c.jsx)("div",{children:Object(c.jsx)(b.b,{})})}),Object(c.jsx)("audio",{id:"audioSuccess",children:Object(c.jsx)("source",{src:"assets/sounds/Ta-Da-SoundBible.com-1884170640.mp3",type:"audio/mpeg"})}),Object(c.jsx)("audio",{id:"audioError",children:Object(c.jsx)("source",{src:"assets/sounds/Sad_Trombone-Joe_Lamb-665429450.mp3",type:"audio/mpeg"})})]})},x=function(e){var s=e.history,t=Object(n.useContext)(o).dispatch,r=Object(n.useState)(""),a=Object(i.a)(r,2),l=a[0],j=a[1],d=Object(n.useState)(10),b=Object(i.a)(d,2),h=b[0],m=b[1],O=Object(n.useState)(""),x=Object(i.a)(O,2),p=x[0],v=x[1];return Object(c.jsxs)("div",{className:"kui-welcome",children:[Object(c.jsx)("h1",{className:"mb-4",children:"Kumon Challenger"}),p.length?Object(c.jsx)("div",{className:"alert alert-danger",children:p}):"",Object(c.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),l&&h){v(""),s.push("/challenger");var c=function(e){for(var s=e.numQuestions,t={baseNumber:e.baseNumber,questions:[],answers:[],correctAnswers:[],userAnswers:[],score:0,currentQuestion:1},c=0;c<s;c++){var n=Math.ceil(12*Math.random());if(t.questions.length)for(;t.questions[c-1]===n;)n=Math.ceil(12*Math.random());t.questions.push(n);var r=n+e.baseNumber;t.correctAnswers.push(r);var a=[];a.push(r),a.push(r+Math.ceil(2*Math.random())),a.push(r+Math.ceil(4*Math.random())),a.push(r+Math.ceil(Math.random()-2)),a.sort((function(){return Math.random()-.5})),t.answers.push(a)}return t}({baseNumber:Math.ceil(5*Math.random()+4),numQuestions:h});!function(e){localStorage.setItem("challenger",JSON.stringify(e))}(c),t({type:u,payload:{name:l,numQuestions:h,challenger:c}})}else v("Please complete the form")},children:[Object(c.jsxs)("div",{className:"form-group mb-2",children:[Object(c.jsx)("label",{htmlFor:"yourName",className:"mb-1",children:"Your Name"}),Object(c.jsx)("input",{type:"text",className:"form-control",id:"yourName","aria-describedby":"Your Name",placeholder:"",value:l,onChange:function(e){j(e.target.value)},autoComplete:"off"})]}),Object(c.jsxs)("div",{className:"form-group mb-2",children:[Object(c.jsx)("label",{htmlFor:"numQuestions",className:"mb-1",children:"Number of questions"}),Object(c.jsxs)("select",{className:"form-control",id:"numQuestions",onChange:function(e){m(e.target.options[e.target.selectedIndex].value)},children:[Object(c.jsx)("option",{value:10,children:10}),Object(c.jsx)("option",{value:"20",children:"20"}),Object(c.jsx)("option",{value:"30",children:"30"}),Object(c.jsx)("option",{value:"40",children:"40"})]})]}),Object(c.jsx)("div",{className:"button-box",children:Object(c.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Start"})})]})]})},p=(t(33),t(34),t(35),t(36),t(37),t(9)),v=function(e){var s=e.history,t=Object(n.useContext)(o),r=t.session,a=t.dispatch,i=r.challenger;return i.questions.length!==i.userAnswers.length?Object(c.jsx)(m.a,{to:"/challenger"}):Object(c.jsxs)("div",{className:"kui-results",children:[Object(c.jsxs)("div",{className:"row kui-progress",children:[Object(c.jsxs)("div",{className:"d-none d-sm-block col-md-10 kui-question-counter",children:[Object(c.jsx)("u",{children:r.name})," good job!"]}),Object(c.jsx)("div",{className:"col-12 col-lg-1 col-md-2 kui-finish",children:Object(c.jsx)("button",{className:"nav-item nav-link btn",onClick:function(){a({type:j}),s.push("/")},children:"Finish"})})]}),Object(c.jsxs)("div",{className:"kui-summary mt-4",children:[Object(c.jsx)("p",{className:"line",children:"Your score"}),Object(c.jsxs)("p",{className:"bigger",children:[i.score," / ",i.questions.length]}),Object(c.jsx)("hr",{}),Object(c.jsx)("p",{className:"line",children:"You were tested adding numbers based on"}),Object(c.jsx)("p",{className:"bigger",children:i.baseNumber}),Object(c.jsx)("hr",{}),Object(c.jsx)("ul",{className:"kui-answer-sheet",children:i.questions.map((function(e,s){var t=i.userAnswers[s]===i.correctAnswers[s];return Object(c.jsxs)("li",{className:t?"success":"error",children:[e," + ",i.baseNumber," = ",i.userAnswers[s],"\xa0",t?Object(c.jsx)("span",{children:Object(c.jsx)(b.a,{})}):Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("span",{children:Object(c.jsx)(b.b,{})})," ",Object(c.jsxs)("span",{className:"correct-answer",children:["(",i.correctAnswers[s],")"]})]})]},s)}))})]}),Object(c.jsx)("div",{className:"row d-block d-sm-none kui-progress-bar"})]})},N=function(){return Object(c.jsx)("div",{children:Object(c.jsxs)(m.d,{children:[Object(c.jsx)(m.b,{exact:!0,path:"/challenger",component:O}),Object(c.jsx)(m.b,{exact:!0,path:"/results",component:v}),Object(c.jsx)(m.a,{to:"/"})]})})},g=t(13),f=function(e){var s=e.isAuth,t=e.component,n=Object(g.a)(e,["isAuth","component"]);return Object(c.jsx)(m.b,Object(l.a)(Object(l.a)({},n),{},{component:function(e){return s?Object(c.jsx)(t,Object(l.a)({},e)):Object(c.jsx)(m.a,{to:"/"})}}))},k=function(e){var s=e.isAuth,t=e.component,n=Object(g.a)(e,["isAuth","component"]);return Object(c.jsx)(m.b,Object(l.a)(Object(l.a)({},n),{},{component:function(e){return s?Object(c.jsx)(m.a,{to:"/challenger"}):Object(c.jsx)(t,Object(l.a)({},e))}}))},w=function(){var e=Object(n.useContext)(o).session;return Object(c.jsx)(p.a,{children:Object(c.jsx)("div",{children:Object(c.jsxs)(m.d,{children:[Object(c.jsx)(k,{exact:!0,path:"/",component:x,isAuth:e.auth}),Object(c.jsx)(f,{path:"*",component:N,isAuth:e.auth})]})})})},y=function(){return JSON.parse(localStorage.getItem("session"))||{auth:!1}},q=function(){var e=Object(n.useReducer)(d,{},y),s=Object(i.a)(e,2),t=s[0],r=s[1];return Object(n.useEffect)((function(){localStorage.setItem("session",JSON.stringify(t))}),[t]),Object(c.jsx)(o.Provider,{value:{session:t,dispatch:r},children:Object(c.jsx)("div",{className:"container-fluid",children:Object(c.jsx)(w,{})})})};a.a.render(Object(c.jsx)(q,{}),document.getElementById("root"))}},[[38,1,2]]]);
//# sourceMappingURL=main.c933f5c3.chunk.js.map